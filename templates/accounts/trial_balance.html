{% extends 'dashboard/base.html' %}

{% block title %}Ù…ÙŠØ²Ø§Ù† Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©{% endblock %}

{% block content %}

<div class="card shadow-sm border-0">
    <div class="card-header bg-dark text-white d-flex justify-content-between align-items-center">
        <h5 class="mb-0">ğŸ“Š Ù…ÙŠØ²Ø§Ù† Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</h5>
        <span class="badge bg-secondary">Trial Balance</span>
    </div>

    <div class="card-body">

        <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ø§Ù…Ø© -->
        <div class="row mb-3">
            <div class="col-md-6">
                <strong>ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚Ø±ÙŠØ±:</strong>
                {{ now|date:"Y-m-d" }}
            </div>
            <div class="col-md-6 text-end">
                <strong>Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</strong>
                {{ request.user.username }}
            </div>
        </div>

        <!-- Ø¬Ø¯ÙˆÙ„ Ù…ÙŠØ²Ø§Ù† Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© -->
        <div class="table-responsive">
            <table class="table table-bordered table-hover align-middle text-center">
                <thead class="table-dark">
                    <tr>
                        <th style="width: 50%">Ø§Ø³Ù… Ø§Ù„Ø­Ø³Ø§Ø¨</th>
                        <th style="width: 25%">Ù…Ø¯ÙŠÙ†</th>
                        <th style="width: 25%">Ø¯Ø§Ø¦Ù†</th>
                    </tr>
                </thead>

                <tbody>
                    {% for row in rows %}
                    <tr>
                        <td class="text-start">
                            {{ row.account.name }}
                        </td>
                        <td class="text-end">
                            {{ row.debit|floatformat:2 }}
                        </td>
                        <td class="text-end">
                            {{ row.credit|floatformat:2 }}
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="3" class="text-muted">
                            Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø¹Ø±Ø¶Ù‡Ø§
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>

                <tfoot class="table-secondary fw-bold">
                    <tr>
                        <td class="text-center">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</td>
                        <td class="text-end">
                            {{ total_debit|floatformat:2 }}
                        </td>
                        <td class="text-end">
                            {{ total_credit|floatformat:2 }}
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>

        <!-- ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„ØªÙˆØ§Ø²Ù† -->
        {% if total_debit != total_credit %}
        <div class="alert alert-danger mt-3">
            âš ï¸ Ø§Ù„Ù…ÙŠØ²Ø§Ù† ØºÙŠØ± Ù…ØªÙˆØ§Ø²Ù†! ÙŠØ±Ø¬Ù‰ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù‚ÙŠÙˆØ¯.
        </div>
        {% else %}
        <div class="alert alert-success mt-3">
            âœ”ï¸ Ù…ÙŠØ²Ø§Ù† Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ù…ØªÙˆØ§Ø²Ù†.
        </div>
        {% endif %}

    </div>
</div>

{% endblock %}
